<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Run a list of analyses — runCmAnalyses • CohortMethod</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Run a list of analyses — runCmAnalyses" />

<meta property="og:description" content="Run a list of analyses" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CohortMethod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/MultipleAnalyses.html">Running multiple analyses at once using the CohortMethod package</a>
    </li>
    <li>
      <a href="../articles/SingleStudies.html">Single studies using the CohortMethod package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/OHDSI/CohortMethod">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run a list of analyses</h1>
    <small class="dont-index">Source: <a href='https://github.com/OHDSI/CohortMethod/blob/master/R/RunAnalyses.R'><code>R/RunAnalyses.R</code></a></small>
    <div class="hidden name"><code>runCmAnalyses.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Run a list of analyses</p>
    
    </div>

    <pre class="usage"><span class='fu'>runCmAnalyses</span>(<span class='no'>connectionDetails</span>, <span class='no'>cdmDatabaseSchema</span>,
  <span class='kw'>oracleTempSchema</span> <span class='kw'>=</span> <span class='no'>cdmDatabaseSchema</span>,
  <span class='kw'>exposureDatabaseSchema</span> <span class='kw'>=</span> <span class='no'>cdmDatabaseSchema</span>,
  <span class='kw'>exposureTable</span> <span class='kw'>=</span> <span class='st'>"drug_era"</span>,
  <span class='kw'>outcomeDatabaseSchema</span> <span class='kw'>=</span> <span class='no'>cdmDatabaseSchema</span>,
  <span class='kw'>outcomeTable</span> <span class='kw'>=</span> <span class='st'>"condition_occurrence"</span>, <span class='kw'>cdmVersion</span> <span class='kw'>=</span> <span class='fl'>5</span>,
  <span class='kw'>outputFolder</span> <span class='kw'>=</span> <span class='st'>"./CohortMethodOutput"</span>, <span class='no'>cmAnalysisList</span>,
  <span class='no'>targetComparatorOutcomesList</span>, <span class='kw'>refitPsForEveryOutcome</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>refitPsForEveryStudyPopulation</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>prefilterCovariates</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>getDbCohortMethodDataThreads</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>createPsThreads</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>psCvThreads</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>createStudyPopThreads</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>trimMatchStratifyThreads</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>prefilterCovariatesThreads</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>fitOutcomeModelThreads</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>outcomeCvThreads</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='no'>outcomeIdsOfInterest</span>, <span class='kw'>compressCohortMethodData</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>connectionDetails</th>
      <td><p>An R object of type <code>connectionDetails</code> created using the
function <code>createConnectionDetails</code> in the
<code>DatabaseConnector</code> package.</p></td>
    </tr>
    <tr>
      <th>cdmDatabaseSchema</th>
      <td><p>The name of the database schema that contains the OMOP CDM
instance. Requires read permissions to this database. On SQL
Server, this should specifiy both the database and the schema,
so for example 'cdm_instance.dbo'.</p></td>
    </tr>
    <tr>
      <th>oracleTempSchema</th>
      <td><p>For Oracle only: the name of the database schema where you
want all temporary tables to be managed. Requires
create/insert permissions to this database.</p></td>
    </tr>
    <tr>
      <th>exposureDatabaseSchema</th>
      <td><p>The name of the database schema that is the location where the
exposure data used to define the exposure cohorts is
available. If exposureTable = DRUG_ERA, exposureDatabaseSchema
is not used by assumed to be cdmSchema.  Requires read
permissions to this database.</p></td>
    </tr>
    <tr>
      <th>exposureTable</th>
      <td><p>The tablename that contains the exposure cohorts.  If
exposureTable &lt;&gt; DRUG_ERA, then expectation is exposureTable
has format of COHORT table: COHORT_DEFINITION_ID, SUBJECT_ID,
COHORT_START_DATE, COHORT_END_DATE.</p></td>
    </tr>
    <tr>
      <th>outcomeDatabaseSchema</th>
      <td><p>The name of the database schema that is the location where the
data used to define the outcome cohorts is available. If
exposureTable = CONDITION_ERA, exposureDatabaseSchema is not
used by assumed to be cdmSchema.  Requires read permissions to
this database.</p></td>
    </tr>
    <tr>
      <th>outcomeTable</th>
      <td><p>The tablename that contains the outcome cohorts.  If
outcomeTable &lt;&gt; CONDITION_OCCURRENCE, then expectation is
outcomeTable has format of COHORT table: COHORT_DEFINITION_ID,
SUBJECT_ID, COHORT_START_DATE, COHORT_END_DATE.</p></td>
    </tr>
    <tr>
      <th>cdmVersion</th>
      <td><p>Define the OMOP CDM version used: currently support "4" and
"5".</p></td>
    </tr>
    <tr>
      <th>outputFolder</th>
      <td><p>Name of the folder where all the outputs will written to.</p></td>
    </tr>
    <tr>
      <th>cmAnalysisList</th>
      <td><p>A list of objects of type <code>cmAnalysis</code> as created using
the <code><a href='createCmAnalysis.html'>createCmAnalysis</a></code> function.</p></td>
    </tr>
    <tr>
      <th>targetComparatorOutcomesList</th>
      <td><p>A list of objects of type <code>targetComparatorOutcomes</code> as
created using the <code><a href='createTargetComparatorOutcomes.html'>createTargetComparatorOutcomes</a></code>
function.</p></td>
    </tr>
    <tr>
      <th>refitPsForEveryOutcome</th>
      <td><p>Should the propensity model be fitted for every outcome (i.e.
after people who already had the outcome are removed)? If
false, a single propensity model will be fitted, and people
who had the outcome previously will be removed afterwards.</p></td>
    </tr>
    <tr>
      <th>refitPsForEveryStudyPopulation</th>
      <td><p>Should the propensity model be fitted for every study population
definition? If false, a single propensity model will be fitted,
and the study population criteria will be applied afterwards.</p></td>
    </tr>
    <tr>
      <th>prefilterCovariates</th>
      <td><p>If TRUE, and some outcome models require filtering covariates
by concept ID (e.g. because <code>includeCovariateIds</code> or
<code>interactionCovariateIds</code> is specified), this filtering
will be done once for all outcome models that need it. This
can greatly speed up the analyses if multiple outcome models
require the same filtering.</p></td>
    </tr>
    <tr>
      <th>getDbCohortMethodDataThreads</th>
      <td><p>The number of parallel threads to use for building the
cohortMethod data objects.</p></td>
    </tr>
    <tr>
      <th>createPsThreads</th>
      <td><p>The number of parallel threads to use for fitting the
propensity models.</p></td>
    </tr>
    <tr>
      <th>psCvThreads</th>
      <td><p>The number of parallel threads to use for the cross-
validation when estimating the hyperparameter for the
propensity model. Note that the total number of CV threads at
one time could be `createPsThreads * psCvThreads`.</p></td>
    </tr>
    <tr>
      <th>createStudyPopThreads</th>
      <td><p>The number of parallel threads to use for creating the study
population.</p></td>
    </tr>
    <tr>
      <th>trimMatchStratifyThreads</th>
      <td><p>The number of parallel threads to use for trimming, matching
and stratifying.</p></td>
    </tr>
    <tr>
      <th>prefilterCovariatesThreads</th>
      <td><p>The number of parallel threads to use for prefiltering covariates.</p></td>
    </tr>
    <tr>
      <th>fitOutcomeModelThreads</th>
      <td><p>The number of parallel threads to use for fitting the outcome
models.</p></td>
    </tr>
    <tr>
      <th>outcomeCvThreads</th>
      <td><p>The number of parallel threads to use for the cross-
validation when estimating the hyperparameter for the outcome
model. Note that the total number of CV threads at one time
could be `fitOutcomeModelThreads * outcomeCvThreads`.</p></td>
    </tr>
    <tr>
      <th>outcomeIdsOfInterest</th>
      <td><p>If provided, creation of non-essential files will be skipped
for all other outcome IDs. This could be helpful to speed up
analyses with many controls.</p></td>
    </tr>
    <tr>
      <th>compressCohortMethodData</th>
      <td><p>Compress CohortMethodData objects?</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with the following columns:</p><table class='table'>
<tr><td><code>analysisId</code></td><td>The unique identifier
for a set of analysis choices.</td></tr>
<tr><td><code>targetId</code></td><td>The ID of the target exposure.</td></tr>
<tr><td><code>comparatorId</code></td><td>The ID of the comparator group.</td></tr>
<tr><td><code>excludedCovariateConceptIds</code></td><td>The ID(s) of concepts that cannot be used to construct covariates.</td></tr>
<tr><td><code>includedCovariateConceptIds</code></td><td>The ID(s) of concepts that should be used to construct
covariates.</td></tr>
<tr><td><code>outcomeId</code></td><td>The ID of the outcome</td></tr>
<tr><td><code>cohortMethodDataFolder</code></td><td>The ID of the outcome.</td></tr>
<tr><td><code>sharedPsFile</code></td><td>The name of the file containing the propensity
scores of the shared</td></tr>
<tr><td></td><td>propensity model. This model is used to create the outcome-specific</td></tr>
<tr><td></td><td>propensity scores by removing people with prior outcomes.</td></tr>
<tr><td><code>studyPopFile</code></td><td>The
name of the file containing the study population (prior</td></tr>
<tr><td></td><td>and trimming, matching, or
stratification on the PS.</td></tr>
<tr><td><code>psFile</code></td><td>The name of file containing the propensity scores
for a specific</td></tr>
<tr><td></td><td>outcomes (ie after people with prior outcomes have been removed).</td></tr>
<tr><td><code>strataFile</code></td><td>The name of the file containing the identifiers of the population</td></tr>
<tr><td></td><td>after any trimming, matching or stratifying, including their strata.</td></tr>
<tr><td><code>outcomeModelFile</code></td><td>The name of the file
containing the outcome model.</td></tr>
</table>


    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Run a list of analyses for the target-comparator-outcomes of interest. This function will run all
specified analyses against all hypotheses of interest, meaning that the total number of outcome
models is `length(cmAnalysisList) * length(targetComparatorOutcomesList)` (if all analyses specify an
outcome model should be fitted). When you provide several analyses it will determine whether any of
the analyses have anything in common, and will take advantage of this fact. For example, if we
specify several analyses that only differ in the way the outcome model is fitted, then this
function will extract the data and fit the propensity model only once, and re-use this in all the
analysis.</p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
          </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Martijn Schuemie, Marc Suchard, Patrick Ryan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


